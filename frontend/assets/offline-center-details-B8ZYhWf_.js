import{r as n,u as P,f as M,p as u,b as p,j as e,a as B,L as g,I as C}from"./index-BekFzax6.js";const R=()=>{const[N,k]=n.useState([]),[a,_]=n.useState(null),[S,r]=n.useState(!1),[E,w]=n.useState([]),[q,L]=n.useState([]),{token:h,logout:x}=P(),{id:j}=M(),[d,v]=n.useState({name:"",email:"",mobile:"",message:"",category_id:"",class_id:"",center_id:""});n.useEffect(()=>{j&&A(j)},[j]);const A=async s=>{r(!0);try{const l=await u(p.getCenterDetailsBySlug,{slug:s},h,x),{success:i,data:c,courses:t}=l;i&&(_(c),k(t))}catch(l){console.error("Error fetching center:",l)}finally{r(!1)}};n.useEffect(()=>{$(),I()},[]);const $=()=>{r(!0),u(p.getCategory,{},h,x).then(({success:s,data:l})=>{s&&w(l)}).catch(console.log).finally(()=>r(!1))},I=()=>{r(!0),u(p.getClassesList,{},h,x).then(({success:s,data:l})=>{s&&L(l)}).catch(console.log).finally(()=>r(!1))},o=s=>{const{name:l,value:i}=s.target,c=l==="mobile"?i.replace(/\D/g,"").slice(0,10):i;v(t=>({...t,[l]:c}))},T=async s=>{s.preventDefault();const{name:l,email:i,mobile:c,message:t,category_id:m,class_id:b,center_id:F}=d;if(!l||!i||!c||!t||!m||!b){alert("Please fill in all required fields.");return}if(!/^\d{10}$/.test(c)){alert("Mobile number must be a valid 10-digit number.");return}try{r(!0);const f={name:l,email:i,mobile:c,message:t,category_id:m,class_id:b,center_id:(a==null?void 0:a.id)||"",city:(a==null?void 0:a.city)||""},y=await u(p.saveCenterPageRequest,f,h,x);y.success?(alert("Request submitted successfully!"),v({name:"",email:"",mobile:"",message:"",category_id:"",class_id:"",center_id:F})):alert(y.message||"Something went wrong.")}catch(f){console.error("Submit Error:",f),alert("Failed to submit request.")}finally{r(!1)}};return n.useEffect(()=>{const s=document.querySelectorAll(".gallery-item");return s.forEach(l=>{l.addEventListener("click",function(){var m;const i=this.querySelector("img"),c=i==null?void 0:i.src;if(!c)return;const t=document.createElement("div");t.className="gallery-modal",t.innerHTML=`
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <img src="${c}" alt="Gallery Image" class="img-fluid">
          </div>`,document.body.appendChild(t),(m=t.querySelector(".close-modal"))==null||m.addEventListener("click",()=>t.remove())})}),()=>{s.forEach(l=>{const i=l.cloneNode(!0);l.replaceWith(i)})}},[]),e.jsxs(e.Fragment,{children:[e.jsx(B,{visible:S}),e.jsx("section",{children:e.jsx("div",{className:"city-hero-section",style:{background:"linear-gradient(94.64deg, #6E31AE 0%, #3C105D 50.2%, #561889 100.4%)"},children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row align-items-center justify-content-between",children:[e.jsxs("div",{className:"col-md-6 mb-4 mb-md-0",children:[e.jsx("h1",{className:"hero-heading",children:a==null?void 0:a.name}),e.jsxs("div",{className:"contact-page-links",children:[e.jsxs(g,{to:a==null?void 0:a.map_url,className:"cu-page-link text-white",children:[e.jsx("i",{className:"fa-solid fa-location-dot text-yellow"})," ",a==null?void 0:a.address]}),e.jsxs(g,{to:`tel:${a==null?void 0:a.mobile}`,className:"cu-page-link text-white",children:[e.jsx("i",{className:"fa-solid fa-phone text-yellow"})," ",a==null?void 0:a.mobile]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"hero-slider",children:e.jsx("div",{className:"item",children:e.jsx("img",{src:`${C}${a==null?void 0:a.logo}`,alt:"#",className:"img-fluid city-hero-img"})})})})]})})})}),N.length>0&&e.jsx("section",{children:e.jsx("div",{className:"institutes-section",children:e.jsxs("div",{className:"container",children:[e.jsxs("h3",{className:"heading text-center mb-4",children:["Explore All Our ",e.jsx("span",{children:"Courses"})]}),e.jsx("div",{className:"row",children:N.map(s=>e.jsx("div",{className:"col-md-6 col-lg-4 col-xl-3 mb-4",children:e.jsxs("div",{className:"listing-page-card",children:[e.jsxs("span",{className:"course-badge",children:[e.jsx("i",{className:"fa-solid fa-video"})," ",s==null?void 0:s.batch_type]}),e.jsx("img",{src:`${C}${s==null?void 0:s.image}`,alt:s==null?void 0:s.course_name,className:"img-fluid"}),e.jsx("span",{className:"category-badge",children:s==null?void 0:s.category_name}),e.jsx("h3",{className:"listing-card-name",children:s==null?void 0:s.course_name}),e.jsxs("p",{className:"course-price",children:["â‚¹",s==null?void 0:s.offer_price,e.jsx("span",{className:"mrp-price",children:s==null?void 0:s.price})]}),e.jsxs("div",{className:"course-card-bottom",children:[e.jsx(g,{to:`/course/${s==null?void 0:s.slug}`,className:"btn course-action-btn-white",children:"View Details"}),e.jsx(g,{to:"#",className:"btn course-action-btn-prime",children:"Enroll now"})]})]})},s.id))})]})})}),e.jsx("div",{className:"contact-section",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row justify-content-between",children:[e.jsxs("div",{className:"col-md-5 col-xl-6 mb-4",children:[e.jsxs("h2",{className:"heading mb-4",children:["Experience Personalized Guidance - ",e.jsx("span",{children:"Visit Our Center Today"}),"."]}),e.jsxs("ul",{className:"our-video-list",children:[e.jsx("li",{children:"Take a tour of our center and experience our interactive classes firsthand."}),e.jsx("li",{children:"Get free one-on-one counselling to help you choose the right course."}),e.jsx("li",{children:"Visit us and unlock exclusive discounts available for a limited time."})]})]}),e.jsx("div",{className:"col-md-7 col-xl-6 mb-4",children:e.jsxs("div",{className:"contactus-form register-details-form",children:[e.jsx("h3",{className:"contact-form-heading",children:"Connect With Us"}),e.jsx("form",{onSubmit:T,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 mb-3",children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Full Name",className:"form-control",value:d.name,onChange:o,required:!0}),e.jsx("span",{className:"input-group-text text-dark",children:e.jsx("i",{className:"fa-solid fa-user"})})]})}),e.jsx("input",{type:"hidden",name:"center_id",value:(a==null?void 0:a.id)||""}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"form-control",value:d.email,onChange:o,required:!0}),e.jsx("span",{className:"input-group-text text-dark",children:e.jsx("i",{className:"fa-solid fa-envelope"})})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",name:"mobile",placeholder:"Mobile Number",className:"form-control",value:d.mobile,onChange:o,required:!0}),e.jsx("span",{className:"input-group-text text-dark",children:e.jsx("i",{className:"fa-solid fa-phone"})})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"input-group",children:[e.jsxs("select",{name:"category_id",className:"form-select",value:d.category_id,onChange:o,required:!0,children:[e.jsx("option",{value:"",children:"Select Stream"}),E.map(s=>e.jsx("option",{value:s.id,children:s.category_name},s.id))]}),e.jsx("span",{className:"input-group-text text-dark",children:e.jsx("i",{className:"fa-solid fa-graduation-cap"})})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"input-group",children:[e.jsxs("select",{name:"class_id",className:"form-select",value:d.class_id,onChange:o,required:!0,children:[e.jsx("option",{value:"",children:"Select Class"}),q.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("span",{className:"input-group-text text-dark",children:e.jsx("i",{className:"fa-solid fa-chalkboard-teacher"})})]})}),e.jsx("div",{className:"col-md-12 mb-3",children:e.jsxs("div",{className:"input-group",children:[e.jsx("textarea",{name:"message",rows:3,placeholder:"Message",className:"form-control",value:d.message,onChange:o,required:!0}),e.jsx("span",{className:"input-group-text text-dark",children:e.jsx("i",{className:"fa-solid fa-message"})})]})}),e.jsx("div",{className:"col-md-12 mb-3",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"acceptTerms",required:!0}),e.jsxs("label",{className:"form-check-label",htmlFor:"acceptTerms",children:["I accept the ",e.jsx("a",{href:"/terms",target:"_blank",children:"Terms & Conditions"})]})]})}),e.jsx("div",{className:"col-md-12 float-right text-right",style:{textAlign:"right"},children:e.jsx("button",{type:"submit",className:"btn btn-primery",children:"Book Free Consultancy"})})]})})]})})]})})})]})};export{R as default};
