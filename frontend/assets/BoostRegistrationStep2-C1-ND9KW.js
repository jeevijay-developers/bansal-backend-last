import{r as m,u as L,p,b as y,y as b,B as F,D as H,E as P,G as r,H as N,j as t,a as z}from"./index-CmUsogvW.js";/* empty css                      */import{l as Y}from"./script.esm-B7mpbZSe.js";import{c as i}from"./createLucideIcon-C5niwGFg.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],O=i("book",I);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],G=i("calendar",V);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],U=i("circle-check-big",T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],J=i("landmark",W);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Q=i("mail",K);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Z=i("map-pin",X);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ee=i("phone",D);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],ae=i("school",te);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],se=i("user",re),le=()=>{const[q,n]=m.useState(!1),[_,j]=m.useState([]),[S,M]=m.useState([]),[C,v]=m.useState([]),{token:u,logout:g,boostDetails:s}=L(),[o,R]=m.useState(null);m.useEffect(()=>{$()},[]);const $=async()=>{try{const e=await p(y.boostProgramDetails),{data:a}=e;Array.isArray(a)&&a.length>0&&R(a[0])}catch(e){console.error("Error fetching boost program:",e)}finally{}};console.log(s,"boosr....."),m.useEffect(()=>{A(),w(),B()},[]);const A=()=>{n(!0),p(y.getCategory,{},u,g).then(({success:e,data:a})=>{console.log(a),e&&j(a)}).catch(console.log).finally(()=>n(!1))},w=()=>{n(!0),p(y.getClassesList,{},u,g).then(({success:e,data:a})=>{e&&M(a)}).catch(console.log).finally(()=>n(!1))},B=()=>{n(!0),p(y.getOfflineCenter,{},u,g).then(e=>{const{success:a,data:c,message:d}=e;a?v(c):b.error(d)}).catch(console.log).finally(()=>n(!1))},E=async e=>{n(!0);const a={name:e.name,email:e.email,mobile:e.mobile,program_type:"Boost",program_date:(o==null?void 0:o.program_date)||"",price:o==null?void 0:o.price,dob:e.dob,gender:e.gender,father_name:e.fatherName,mother_name:e.motherName,stream:e.stream,student_class:e.classApplying,test_date:(o==null?void 0:o.program_date)||"",centre:e.centre,address:e.address,pin_code:e.pin,city:e.city,state:e.state,school_name:e.school,school_board:e.board,agree:e.agree};try{const c=await p(y.saveBoostProgramCashFree,a,u,g);console.log(c);const{success:d,payment_session_id:f,message:h}=c;if(!d){b.error(h||"Failed to create order");return}d&&(await Y({mode:"production"})).checkout({paymentSessionId:f,redirectTarget:"_self"})}catch(c){b.error("Something went wrong during submission!"),console.error("Error in handleSubmit:",c)}finally{n(!1)}},l=F({initialValues:{name:(s==null?void 0:s.name)||"",mobile:(s==null?void 0:s.mobileNumber)||"",email:(s==null?void 0:s.email)||"",dob:"",gender:"",fatherName:"",motherName:"",stream:"",classApplying:"",testDate:"2025-06-29",centre:"",address:"",pin:"",city:"",transaction_id:"",state:"",school:"",board:"",agree:!1},validationSchema:H({name:r().required("Required"),mobile:r().matches(/^\d{10}$/,"Must be 10 digits").required("Required"),email:r().email("Invalid email").required("Required"),dob:N().required("Required"),gender:r().required("Required"),fatherName:r().required("Required"),motherName:r().required("Required"),stream:r().required("Required"),classApplying:r().required("Required"),testDate:N().required("Required"),centre:r().required("Required"),address:r().required("Required"),pin:r().matches(/^\d{6}$/,"Must be 6 digits").required("Required"),city:r().required("Required"),state:r().required("Required"),school:r().required("Required"),board:r().required("Required"),agree:P().oneOf([!0],"You must accept the terms")}),onSubmit:E}),x=e=>l.touched[e]&&l.errors[e]?t.jsx("div",{className:"text-danger small",children:l.errors[e]}):null;return t.jsxs(t.Fragment,{children:[t.jsx(z,{visible:q}),t.jsx("div",{className:"container py-5",children:t.jsx("div",{className:"row justify-content-center",children:t.jsx("div",{className:"col-md-10 col-lg-8",children:t.jsxs("div",{className:"card shadow p-4 rounded-4",children:[t.jsx("h2",{className:"text-center mb-2 fw-bold",children:"Registration"}),t.jsx("p",{className:"text-center text-muted mb-4",children:"You are logged in â€” please complete your form"}),t.jsxs("form",{onSubmit:l.handleSubmit,noValidate:!0,children:[[{name:"name",label:"Your Name",icon:se,type:"text"},{name:"mobile",label:"Enter Mobile Number",icon:ee,type:"tel"},{name:"email",label:"Email Address",icon:Q,type:"email"},{name:"dob",label:"Date of Birth (MM/DD/YYYY)",icon:G,type:"date"},{name:"gender",label:"Gender",type:"select",options:["","Male","Female","Other"]},{name:"fatherName",label:"Father Name",type:"text"},{name:"motherName",label:"Mother Name",type:"text"},{name:"stream",label:"Stream",icon:O,type:"select",options:["",..._.map(e=>e==null?void 0:e.category_name)]},{name:"classApplying",label:"Class Applying For",type:"select",options:["",...S.map(e=>e==null?void 0:e.name)]},{name:"centre",label:"Study Centre Choice",icon:J,type:"select",options:["",...C.map(e=>e==null?void 0:e.name)]},{name:"address",label:"Address",type:"textarea"},{name:"pin",label:"Pin Code",type:"text"},{name:"city",label:"City",icon:Z,type:"text"},{name:"state",label:"State",type:"text"},{name:"school",label:"School Name",icon:ae,type:"text"},{name:"board",label:"School Board",type:"select",options:["","CBSE","ICSE","State Board","Other"]}].map(({name:e,label:a,icon:c,type:d,options:f})=>t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{className:"form-label",children:[c&&t.jsx(c,{size:18,className:"me-2"})," ",a]}),d==="select"?t.jsx("select",{className:"form-select",...l.getFieldProps(e),children:f&&f.map((h,k)=>t.jsx("option",{value:h,children:h||`Select ${a}`},`${h}-${k}`))}):d==="textarea"?t.jsx("textarea",{className:"form-control",rows:2,...l.getFieldProps(e),placeholder:`Enter ${a.toLowerCase()}`}):t.jsx("input",{type:d,className:"form-control",...l.getFieldProps(e),placeholder:`Enter ${a.toLowerCase()}`}),x(e)]},e)),t.jsxs("div",{className:"form-check mb-4",children:[t.jsx("input",{className:"form-check-input",type:"checkbox",id:"termsCheck",...l.getFieldProps("agree")}),t.jsxs("label",{className:"form-check-label",htmlFor:"termsCheck",children:[t.jsx(U,{size:16,className:"me-1"}),"I agree to the terms and conditions"]}),x("agree")]}),t.jsx("div",{className:"d-grid",children:t.jsx("button",{type:"submit",className:"btn btn-primary btn-lg rounded-3",children:"Submit"})})]})]})})})})]})};export{le as default};
