import{j as s,I as y,r as t,u as v,p as h,b as x,a as k,M as b,L as i,y as _}from"./index-Ctt4qEPS.js";import{n as j}from"./not-found-BKxoFFwC.js";import{U as L}from"./update-education-BbEr9e1I.js";const w=({set:r})=>s.jsxs("div",{className:"my-books-section",children:[s.jsx("div",{className:"mb-4 d-flex justify-content-between align-items-center flex-wrap",children:s.jsx("h3",{className:"sub-heading text-dark mb-0",children:"ðŸ“š My Book Orders"})}),r&&r.length>0?s.jsx("div",{className:"row g-4",children:r.map(a=>s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card shadow-sm border-0 h-100",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"d-flex justify-content-between flex-wrap mb-2",children:[s.jsxs("h5",{className:"mb-1 text-primary",children:["Order ID: #",a.order_code]}),s.jsx("span",{className:`badge ${a.payment_status==="Paid"?"bg-success":"bg-warning text-dark"}`,children:a.payment_status})]}),s.jsxs("p",{className:"text-muted mb-1",children:[s.jsx("strong",{children:"Order Date:"})," ",a.order_date]}),s.jsxs("p",{className:"mb-3",children:[s.jsx("strong",{children:"Total Amount:"})," ","â‚¹",a.total_amount.toLocaleString("en-IN")]}),s.jsx("div",{className:"row g-3",children:a.items.map(e=>s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("img",{src:e.book_image?`${y}${e.book_image}`:j,alt:e.book_name,className:"img-thumbnail me-3",style:{width:80,height:80,objectFit:"cover"}}),s.jsxs("div",{children:[s.jsx("h6",{className:"mb-1",children:e.book_name}),s.jsxs("p",{className:"mb-1 text-muted",children:["â‚¹",e.offer_price.toLocaleString("en-IN")," Ã—"," ",e.quantity," = â‚¹",e.total_price.toLocaleString("en-IN")]}),s.jsxs("small",{className:"text-secondary",children:["MRP: â‚¹",e.book_price.toLocaleString("en-IN")]})]})]})},e.book_id))})]})})},a.order_code))}):s.jsxs("div",{className:"text-center py-5",children:[s.jsx("img",{src:j,alt:"No Orders",className:"img-fluid mb-3",style:{maxWidth:200}}),s.jsx("h5",{children:"No Book Orders Found"}),s.jsx("p",{className:"text-muted",children:"You havenâ€™t ordered any books yet."})]})]}),S=()=>{const[r,a]=t.useState([]),[e,f]=t.useState(null),[N,c]=t.useState(!1),{token:m,logout:d}=v();t.useEffect(()=>{u(),g()},[]);const p=()=>{_.info("Logout successfully"),d()},u=async()=>{c(!0);try{const l=await h(x.myBooks,{},m,d);console.log(l,"resp");const{success:n,orders:o}=l;console.log(o),n&&a(o)}catch(l){console.error("Error fetching course:",l)}finally{c(!1)}},g=async()=>{c(!0);try{const l=await h(x.myProfile,{},m,d);console.log(l,"resp");const{success:n,user:o}=l;n&&f(o)}catch(l){console.error("Error fetching course:",l)}finally{c(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(k,{visible:N}),s.jsx(L,{}),s.jsx("section",{children:s.jsx("div",{className:"dashboard-bg",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"dashboard-hero-section",children:[s.jsxs("div",{className:"dashboard-left-profile-card",children:[s.jsxs("div",{className:"dashboard-profile-align",children:[s.jsx("img",{src:"/assets/img/profile-img.png",alt:"Profile",className:"img-fluid",id:"PropImage"}),s.jsx("input",{type:"file",className:"btn-check",id:"Profile-updater",accept:"image/*"}),s.jsx("label",{className:"btn btn-profile-update",htmlFor:"Profile-updater",children:s.jsx("i",{className:"fa-solid fa-pen-to-square"})})]}),s.jsxs("div",{children:[s.jsxs("h4",{children:["Hello, ",`${e==null?void 0:e.name}`]}),s.jsxs("p",{className:"text mb-0",children:["+91 ",`${e==null?void 0:e.mobile}`]})]})]}),s.jsxs("div",{className:"dashboard-right-card",children:[s.jsx("a",{href:`${b}`,children:s.jsx("img",{src:`${b}/assets/img/logo.png`,width:"200px",alt:"Logo"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text mb-2",children:"Class"}),s.jsx("p",{children:`${e==null?void 0:e.class_name}`})]}),(e==null?void 0:e.center_name)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text mb-2",children:"Center"}),s.jsx("p",{children:e.center_name})]}),s.jsxs("button",{type:"button",className:"btn btn-primary mt-3 d-flex align-items-center",onClick:()=>window.history.back(),children:[s.jsx("i",{className:"fa fa-arrow-left me-2"})," Back"]})]})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-menu-card",children:s.jsxs("div",{className:"dashboard-menu-list",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[s.jsxs(i,{to:"/dashboard",className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-graduation-cap me-2"}),"My Courses"]}),s.jsxs(i,{to:"/dashboard/my-profile",className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-user me-2"}),"My Profile"]}),s.jsxs(i,{to:"/dashboard/my-test-series",className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-clipboard-list me-2"}),"My Test Series"]}),s.jsxs(i,{to:"/dashboard/my-live-test",className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-chalkboard-teacher me-2"}),"My Live Test"]}),s.jsxs(i,{to:"/dashboard/my-books",className:"dashboard-menu-link  active",children:[s.jsx("i",{className:"fa-solid fa-book-open me-2"}),"My Books"]}),s.jsxs("button",{onClick:p,className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-right-from-bracket me-2"}),"Logout"]})]})}),s.jsx("div",{className:"dashboard-page-card",children:s.jsx("div",{className:"tab-content",id:"v-pills-tabContent",children:s.jsx("div",{className:"tab-pane fade show active",id:"pills-menu4",role:"tabpanel","aria-labelledby":"pills-menu4-tab",children:r?s.jsx(w,{set:r}):s.jsx("div",{children:"Loading..."})})})})]})]})})})]})};export{S as default};
