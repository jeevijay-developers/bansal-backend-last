import{f,r as l,p as g,b as x,j as e,a as b,L as N}from"./index-Bc87CdlA.js";const y=()=>{const{slug:o}=f(),[s,c]=l.useState(null),[d,m]=l.useState(!1),[n,u]=l.useState({name:"",email:"",mobile:"",message:""});l.useEffect(()=>{o&&h(o)},[o]);const h=async r=>{m(!0);try{const t=await g(x.getFacultyTrainingProgramDetails,{slug:r});if(t.success&&t.data){const a=t.data;c({id:a.id,title:a.title,trainingCode:a.training_code,slug:a.slug,applyDate:a.apply_date,noOfPositions:a.no_of_positions})}else c(null)}catch(t){console.error("Error fetching program:",t)}finally{m(!1)}},i=r=>{const{name:t,value:a}=r.target;u(j=>({...j,[t]:a}))},p=async r=>{if(r.preventDefault(),!s){alert("Invalid program");return}const t={...n,training_id:s.id,training_code:s.trainingCode,training_name:s.title};try{(await g(x.saveFacultyTrainingRequest,t)).success?(alert("Form Submitted Successfully!"),u({name:"",email:"",mobile:"",message:""})):alert("Submission failed.")}catch(a){console.error("Submission error:",a),alert("Something went wrong. Please try again.")}};return!s&&!d?e.jsx("p",{className:"text-center mt-5",children:"Program not found."}):e.jsxs(e.Fragment,{children:[e.jsx(b,{visible:d}),s&&e.jsx("section",{className:"py-5 bg-light",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-md-10 col-lg-8",children:[e.jsxs("div",{className:"card shadow-lg rounded-4 p-4 border-0",children:[e.jsxs("h3",{className:"text-center mb-4 text-primary",children:["BFTP Registration for ",e.jsx("strong",{children:s.title})]}),e.jsxs("form",{onSubmit:p,children:[e.jsx("input",{type:"hidden",name:"training_code",value:s.trainingCode}),e.jsx("input",{type:"hidden",name:"program_id",value:s.id}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",className:"form-control rounded-3",required:!0,value:n.name,onChange:i})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"form-control rounded-3",required:!0,value:n.email,onChange:i})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Phone"}),e.jsx("input",{type:"tel",name:"mobile",maxLength:10,className:"form-control rounded-3",required:!0,value:n.mobile,onChange:i})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label",children:"Message"}),e.jsx("textarea",{name:"message",rows:3,className:"form-control rounded-3",required:!0,value:n.message,onChange:i})]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("input",{type:"checkbox",className:"mr-3",style:{marginRight:"10px"}}),e.jsxs("label",{children:["I Agree to all ",e.jsx(N,{to:"/terms-conditions",children:"terms and conditions"})]})]}),e.jsx("br",{}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",className:"btn btn-primary px-5 py-2 rounded-pill fw-semibold",children:"Submit"})})]})]}),e.jsx("div",{className:"mt-5 text-center",children:e.jsxs("p",{className:"fst-italic text-muted",children:["At ",e.jsx("strong",{children:"Bansal Classes"}),", we are passionate about education and the impact it can have on individuals and communities. Join us in our mission to inspire, educate, and empower the next generation of leaders and innovators."]})})]})})})})]})};export{y as default};
