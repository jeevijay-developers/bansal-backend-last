import{r as n,u as v,k,h as L,p as S,b as w,j as s,a as A,I as E,L as m}from"./index-Bol1vdqm.js";const I=()=>{var h;const[r,x]=n.useState([]),[f,g]=n.useState(""),[o,l]=n.useState(!1),{token:j,logout:N}=v(),d=k(),u=L();n.useEffect(()=>{var t;const e=((t=d.state)==null?void 0:t.selectedCity)||"kota";p(e)},[(h=d.state)==null?void 0:h.selectedCity]);const p=async e=>{l(!0);try{const t=await S(w.getOfflineCenter,{city:e},j,N),{success:C,data:y,cities:a}=t;if(!C||!(a!=null&&a.length)){u("/");return}const c=a.find(i=>i.slug===e)||a.find(i=>i.slug==="kota");if(!c){u("/");return}g(c.title);const b=y.filter(i=>i.city_id===c.id);x(b)}catch(t){console.error("Error fetching centers:",t)}finally{l(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(A,{visible:o}),s.jsx("section",{children:s.jsx("div",{className:"institutes-section pb-0",children:s.jsxs("div",{className:"container",children:[s.jsxs("h3",{className:"heading text-center mb-4",children:["We're Now in Your City - Visit Our ",s.jsx("span",{children:f})," Center!"]}),s.jsxs("div",{className:"row",children:[r.map(e=>s.jsx("div",{className:"col-md-6 col-lg-4 mb-4",children:s.jsxs("div",{className:"institute-card",children:[s.jsx("img",{src:`${E}${e.logo}`,alt:e.name,className:"img-fluid"}),s.jsx("h4",{children:e.name}),s.jsxs("p",{children:[s.jsx("i",{className:"fa-solid fa-location-dot"})," ",e.address]}),s.jsxs("div",{className:"institute-btn-group",children:[s.jsx(m,{to:`/center/${e.slug}`,className:"btn course-action-btn-white",children:"View Details"}),s.jsx(m,{to:"/contact",className:"btn course-action-btn-prime",children:"Contact US"})]})]})},e.slug)),!r.length&&!o&&s.jsx("p",{className:"text-center",children:"No centers found in this city."})]})]})})})]})};export{I as default};
