import{r as n,j as s,L as i,u as N,p as b,b as j,a as y,M as u,y as v}from"./index-Bol1vdqm.js";import{S as _}from"./select-subject-sDEjRpDH.js";import{M as k}from"./my-profile-eRrHCINt.js";import{U as C}from"./update-education-BXjkJhUe.js";const L=({set:d})=>{const[o,e]=n.useState(!1),m=["MATHEMATICS","SCIENCE","SOCIAL SCIENCE"];return s.jsxs(s.Fragment,{children:[s.jsx(_,{isOpen:o,onClose:()=>e(!1),subjects:m}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-3 d-flex flex-wrap gap-3 align-items-center justify-content-between",children:s.jsx("h3",{className:"sub-heading text-dark mb-0",children:"My Courses"})}),s.jsx("ul",{className:"my-courses-listing",children:d&&d.length>0?d.map((r,c)=>s.jsx("li",{children:s.jsxs("div",{className:"my-course-card",children:[s.jsxs("div",{className:"my-course-card-top",children:[s.jsx("img",{src:r.image||"/assets/img/listing.png",alt:"Course",className:"img-fluid"}),s.jsxs("div",{className:"my-course-card-content",children:[s.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-3 flex-wrap",children:[s.jsx("h2",{className:"my-course-name mb-3",children:r.course_name}),s.jsx("span",{className:"my-course-badge mb-3",children:r.badge})]}),s.jsx("div",{className:"d-flex align-items-center gap-4 mb-3 flex-wrap",children:s.jsxs("h2",{className:"my-course-orderid mb-0",children:["Order ID : #",r.id]})}),s.jsxs("p",{className:"my-course-enroll",children:["Enrolled : ",r.purchase_date]})]})]}),s.jsx("div",{className:"my-course-links-list",children:s.jsx("div",{className:"subject-links",children:r.subjects&&r.subjects.length>0?r.subjects.map(t=>s.jsx(i,{to:`/study-materials/${btoa(t.id.toString())}`,className:"my-course-card-link",children:t.subject_name},t.id)):s.jsx("p",{children:"No subjects available"})})}),s.jsx("div",{className:"my-course-bottom d-inline-flex",children:s.jsx(i,{to:`/dashboard/course/exams/${btoa(r.course_id)}`,className:"btn secondary-btn btn-sm",children:"Course Practice Test"})})]})},c)):s.jsx("p",{children:"No courses found"})})]})]})},P=()=>{const[d,o]=n.useState([]),[e,m]=n.useState(null),[r,c]=n.useState(!1),{token:t,logout:h}=N();n.useEffect(()=>{f(),g()},[]);const p=()=>{v.info("Logout successfully"),h()},f=async()=>{c(!0);try{const x=(await b(j.myCourse,{},t,h)).orders.map(a=>({id:a.id.toString(),course_name:a.course_name,badge:a.order_status,orderId:a.order_id,enrolledDate:a.purchase_date,course_expired_date:a.course_expired_date,expired_date:a.expired_date,created_at:a.created_at,course_id:a.course_id,endDate:a.course_expired_date,image:a.course_image,purchase_date:a.purchase_date,subjects:a.subjects?a.subjects:[]}));o(x)}catch(l){console.error("Error fetching course:",l)}finally{c(!1)}},g=async()=>{c(!0);try{const l=await b(j.myProfile,{},t,h);console.log(l,"resp");const{success:x,user:a}=l;x&&m(a)}catch(l){console.error("Error fetching course:",l)}finally{c(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(y,{visible:r}),s.jsx(C,{}),s.jsx("section",{children:s.jsx("div",{className:"dashboard-bg",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"dashboard-hero-section",children:[s.jsxs("div",{className:"dashboard-left-profile-card",children:[s.jsxs("div",{className:"dashboard-profile-align",children:[s.jsx("img",{src:"/assets/img/profile-img.png",alt:"Profile",className:"img-fluid",id:"PropImage"}),s.jsx("input",{type:"file",className:"btn-check",id:"Profile-updater",accept:"image/*"}),s.jsx("label",{className:"btn btn-profile-update",htmlFor:"Profile-updater",children:s.jsx("i",{className:"fa-solid fa-pen-to-square"})})]}),s.jsxs("div",{children:[s.jsxs("h4",{children:["Hello, ",`${e==null?void 0:e.name}`]}),s.jsxs("p",{className:"text mb-0",children:["+91 ",`${e==null?void 0:e.mobile}`]})]})]}),s.jsxs("div",{className:"dashboard-right-card",children:[s.jsx("a",{href:`${u}`,children:s.jsx("img",{src:`${u}/assets/img/logo.png`,width:"200px",alt:"Logo"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text mb-2",children:"Class"}),s.jsx("p",{children:`${e==null?void 0:e.class_name}`})]}),(e==null?void 0:e.center_name)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text mb-2",children:"Center"}),s.jsx("p",{children:e.center_name})]}),s.jsxs("button",{type:"button",className:"btn btn-primary mt-3 d-flex align-items-center",onClick:()=>window.history.back(),children:[s.jsx("i",{className:"fa fa-arrow-left me-2"})," Back"]})]})]}),s.jsxs("div",{className:"dashboard-card",children:[s.jsx("div",{className:"dashboard-menu-card",children:s.jsxs("div",{className:"dashboard-menu-list",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[s.jsxs(i,{to:"/dashboard",className:"dashboard-menu-link active",children:[s.jsx("i",{className:"fa-solid fa-graduation-cap me-2"}),"My Courses"]}),s.jsxs(i,{to:"/dashboard/my-profile",className:"dashboard-menu-link ",children:[s.jsx("i",{className:"fa-solid fa-user me-2"}),"My Profile"]}),s.jsxs(i,{to:"/dashboard/my-test-series",className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-clipboard-list me-2"}),"My Test Series"]}),s.jsxs(i,{to:"/dashboard/my-live-test",className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-chalkboard-teacher me-2"}),"My Live Test"]}),s.jsxs(i,{to:"/dashboard/my-books",className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-book-open me-2"}),"My Books"]}),s.jsxs("button",{onClick:p,className:"dashboard-menu-link",children:[s.jsx("i",{className:"fa-solid fa-right-from-bracket me-2"}),"Logout"]})]})}),s.jsx("div",{className:"dashboard-page-card",children:s.jsxs("div",{className:"tab-content",id:"v-pills-tabContent",children:[s.jsx("div",{className:"tab-pane fade show active",id:"pills-menu1",role:"tabpanel","aria-labelledby":"pills-menu1-tab",children:d?s.jsx(L,{set:d}):s.jsx("div",{children:"Loading..."})}),s.jsx("div",{className:"tab-pane fade",id:"pills-menu2",role:"tabpanel","aria-labelledby":"pills-menu2-tab",children:e?s.jsx(k,{set:e}):s.jsx("div",{children:"Loading..."})})]})})]})]})})})]})};export{P as default};
