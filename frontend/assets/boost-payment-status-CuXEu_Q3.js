import{k as h,r,u as f,y as o,p as x,b as y,j as e}from"./index-Bc87CdlA.js";const j=()=>{const a=h(),[l,c]=r.useState(!0),[n,t]=r.useState(null),{token:d,logout:m}=f();r.useEffect(()=>{const s=new URLSearchParams(a.search).get("order_id");s?u(s):(o.error("No order ID found in URL"),c(!1),t(!1))},[a.search]);const u=async i=>{try{const s=await x(y.verifyBoostCashFreeOrder,{order_id:i},d,m);s.success?(setTimeout(()=>{window.location.href=s.redirectUrl},1e3),t(!0)):(setTimeout(()=>{window.location.href=s.redirectUrl},1e3),t(!1))}catch(s){o.error("Error verifying payment."),t(!1),console.error(s)}finally{c(!1)}};return l?e.jsxs("div",{className:"d-flex justify-content-center align-items-center vh-100",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status","aria-hidden":"true"}),e.jsx("span",{className:"ms-2 fs-5",children:"Checking payment status..."})]}):e.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:e.jsxs("div",{className:"card shadow-sm p-4 text-center",style:{maxWidth:"400px",width:"100%"},children:[n===!0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"bi bi-check-circle-fill text-success",style:{fontSize:"3rem"}})}),e.jsx("h2",{className:"text-success mb-3",children:"Payment Successful!"}),e.jsx("p",{className:"mb-0",children:"Thank you for your purchase."})]}),n===!1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"bi bi-x-circle-fill text-danger",style:{fontSize:"3rem"}})}),e.jsx("h2",{className:"text-danger mb-3",children:"Payment Failed or Pending"}),e.jsx("p",{className:"mb-3",children:"Please try again or contact support."})]})]})})};export{j as default};
